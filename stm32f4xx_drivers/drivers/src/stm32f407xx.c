#include"stm32f407xx.h"

uint32_t BASE_ADDR_LST[]={
 TIM2_BASE_ADDR,
 TIM3_BASE_ADDR,
 TIM4_BASE_ADDR,
 TIM5_BASE_ADDR,
 TIM6_BASE_ADDR,
 TIM7_BASE_ADDR,
 TIM12_BASE_ADDR,
 TIM13_BASE_ADDR,
 TIM14_BASE_ADDR,
 RESERVED0_BASE_ADDR,
 RTC_N_BKP_REGS_BASE_ADDR,
 WWDG_BASE_ADDR,
 IWDG_BASE_ADDR,
 I2S2EXT_BASE_ADDR,
 SPI2_I2S2_BASE_ADDR,
 SPI3I2S3_BASE_ADDR,
 I2S3EXT_BASE_ADDR,
 USART2_BASE_ADDR,
 USART3_BASE_ADDR,
 UART4_BASE_ADDR,
 UART5_BASE_ADDR,
 I2C1_BASE_ADDR,
 I2C2_BASE_ADDR,
 I2C3_BASE_ADDR,
 RESERVED1_BASE_ADDR,
 CAN1_BASE_ADDR,
 CAN2_BASE_ADDR,
 RESERVED2_BASE_ADDR,
 PWR_BASE_ADDR,
 DAC_BASE_ADDR,
 RESERVED3_BASE_ADDR,
 RESERVED4_BASE_ADDR,
 TIM1_BASE_ADDR,
 TIM8_BASE_ADDR,
 RESERVED5_BASE_ADDR,
 USART1_BASE_ADDR,
 USART6_BASE_ADDR,
 RESERVED6_BASE_ADDR,
 ADC1_ADC2_ADC3_BASE_ADDR,
 RESERVED7_BASE_ADDR,
 SDIO_BASE_ADDR,
 SPI1_BASE_ADDR,
 RESERVED8_BASE_ADDR,
 SYSCFG_BASE_ADDR,
 EXTI_BASE_ADDR,
 TIM9_BASE_ADDR,
 TIM10_BASE_ADDR,
 TIM11_BASE_ADDR,
 RESERVED9_BASE_ADDR,
 RESERVED10_BASE_ADDR,
 GPIOA_BASE_ADDR,
 GPIOB_BASE_ADDR,
 GPIOC_BASE_ADDR,
 GPIOD_BASE_ADDR,
 GPIOE_BASE_ADDR,
 GPIOF_BASE_ADDR,
 GPIOG_BASE_ADDR,
 GPIOH_BASE_ADDR,
 GPIOI_BASE_ADDR,
 RESERVED11_BASE_ADDR,
 CRC_BASE_ADDR,
 RESERVED12_BASE_ADDR,
 RCC_BASE_ADDR,
 FLASH_INTERFACE_REG_BASE_ADDR,
 BKPSRAM_BASE_ADDR,
 RESERVED13_BASE_ADDR,
 DMA1_BASE_ADDR,
 DMA2_BASE_ADDR,
 RESERVED14_BASE_ADDR,
 ETHERNET_MAC0_BASE_ADDR,
 ETHERNET_MAC1_BASE_ADDR,
 ETHERNET_MAC2_BASE_ADDR,
 ETHERNET_MAC3_BASE_ADDR,
 ETHERNET_MAC4_BASE_ADDR,
 RESERVED15_BASE_ADDR,
 USB_OTG_HS_BASE_ADDR,
 RESERVED16_BASE_ADDR,
 USB_OTG_FS_BASE_ADDR,
 RESERVED17_BASE_ADDR,
 DCMI_BASE_ADDR,
 RESERVED18_BASE_ADDR,
 RNG_BASE_ADDR,
 RESERVED19_BASE_ADDR,
 FSMC_BANK1_BASE_ADDR,
 FSMC_BANK2_BASE_ADDR,
 FSMC_BANK3_BASE_ADDR,
 FSMC_BANK4_BASE_ADDR,
 FSMC_CTRL_REG_BASE_ADDR,
 RESERVED20_BASE_ADDR,
 CORTEX_M4_INTERNAL_PERIPHERALS_BASE_ADDR,
 RESERVED21_BASE_ADDR
};

uint32_t MASK_LST[]={
		0x00000001,
		0x00000003,
		0x00000007,
		0x0000000F,
		0x0000001F,
		0x0000003F,
		0x0000007F,
		0x000000FF,
		0x000001FF,
		0x000003FF,
		0x000007FF,
		0x00000FFF,
		0x00001FFF,
		0x00003FFF,
		0x00007FFF,
		0x0000FFFF,
		0x0001FFFF,
		0x0003FFFF,
		0x0007FFFF,
		0x000FFFFF,
		0x001FFFFF,
		0x003FFFFF,
		0x007FFFFF,
		0x00FFFFFF,
		0x01FFFFFF,
		0x03FFFFFF,
		0x07FFFFFF,
		0x0FFFFFFF,
		0x1FFFFFFF,
		0x3FFFFFFF,
		0x7FFFFFFF,
		0xFFFFFFFF,


};
uint32_t TEMP;
uint8_t GetLSBSetBit(uint32_t Val) {
	uint8_t pos = 0;
	while (!(Val & 1))
		pos++;
	return pos;
}
